/*! MoonMap - v0.0.1 | http://opensource.org/licenses/MIT */
 ;MoonMap=function(e,t){this.moons=[];this.lastRotation=0;this.selector=e;this.currentlyActive=-1;if(typeof t!=="object")t={};var n={active:function(){},activeClass:"active",content:"",degrees:360,margin:0,moonClass:"moon",n:12,radius:false,removeOriginal:true};this.extend=function(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e};if(typeof e=="undefined"){console.error("No query selector was provided to the MoonMap constructor");return}var r=document.querySelector(e);this.options=this.extend(n,t);this.map=r;this.makeAbsolute=function(e){return'<div style="position:relative"><div class="_moon_content" style="position:absolute;width:100%;height:100%">'+e+"</div></div>"};if(!this.options.radius)this.options.radius=r.offsetWidth+this.options.margin;var i=parseInt(r.offsetWidth/2);if(typeof this.options["moonSelector"]!=="undefined"){var s=document.querySelectorAll(this.options["moonSelector"]),o=s.length,u=360/o;for(var a=0;a<o;++a){var f=document.createElement("div"),l=s[a].cloneNode(true),c=Math.sin(u*a*(Math.PI/180))*this.options.radius,h=Math.cos(u*a*(Math.PI/180))*this.options.radius;f.className=this.options.moonClass;f.style.position="absolute";f.style.visibility="hidden";f.innerHTML=this.makeAbsolute(l.outerHTML);r.appendChild(f);var p=f.offsetWidth/2,d=i-p;f.style.top=(c+d).toString()+"px";f.style.left=(h+d).toString()+"px";f.style.visibility="visible";if(this.options.removeOriginal)s[a].parentNode.removeChild(s[a]);this.moons.push(f)}}else{var o=this.options.n,u=360/o;for(var a=1;a<=this.options.n;++a){var f=document.createElement("div"),c=Math.sin(u*a*(Math.PI/180))*this.options.radius,h=Math.cos(u*a*(Math.PI/180))*this.options.radius;f.className=this.options.moonClass;f.style.position="absolute";f.style.visibility="hidden";if(typeof this.options.content=="function"){f.innerHTML=this.makeAbsolute(this.options.content(a-1,f))}else if(this.options.content){f.innerHTML=this.makeAbsolute(this.options.content)}r.appendChild(f);var p=f.offsetWidth/2,d=i-p;f.style.top=(c+d).toString()+"px";f.style.left=(h+d).toString()+"px";f.style.visibility="visible";this.moons.push(f)}}this.moonEvent=function(e,t){var n=this;for(var r=0;r<this.moons.length;r++){this.moons[r].addEventListener(e,function(){t(this,n)})}};this.rotateMoons=function(e,t){if(typeof e=="undefined")e=90;if(typeof t=="undefined")t=1e3;var n=t/1e3,r=["-webkit-","-moz-","-o-","-ms-",""],i=this.lastRotation+e;this.lastRotation=e;for(var s=0;s<r.length;s++){var o=r[s];this.map.style[o+"transition"]="all "+n+"s ease-in-out";this.map.style[o+"transform"]="rotate("+e+"deg)"}};this.current=function(){return this.currentlyActive};this.next=function(){var e=this.currentlyActive+1;if(e>this.moons.length-1)e=0;return e};this.previous=function(){prevActive=this.currentlyActive-1;if(typeof this.moons[prevActive]=="undefined")prevActive=this.moons.length-1;return prevActive};this.startCarousel=function(e){if(typeof e=="undefined")e=1200;var t=this,n=this.options;setInterval(function(){var e=t.moons,r=t.current(),i=t.next();t.currentlyActive=i;if(typeof e[r]!=="undefined")e[r].className="moon";e[i].className=e[i].className+" "+n.activeClass;if(typeof n.active=="function")n.active(t)},e)}}